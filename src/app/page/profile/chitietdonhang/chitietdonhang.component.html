<div class="d-flex justify-content-around">
    <!-- <mat-progress-bar *ngIf="isLoading" mode="indeterminate" class="example-tree-progress-bar">
    </mat-progress-bar> -->

    <table mat-table [dataSource]="dataSource" class="w-100 mat-elevation-z1 " matSort>
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
            <td mat-cell *matCellDef="let item; let i =index"> {{i+1}} </td>
        </ng-container>
        <ng-container matColumnDef="SoLuong">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Số lượng</th>
            <td mat-cell *matCellDef="let item" class="px-2">
                <span>{{item.SoLuong}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="DonGia">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Đơn giá</th>
            <td mat-cell *matCellDef="let item" class="px-2">
                <div class="d-flex flex-row rate" *ngIf="item?.chietKhau != 0">
                    <span class="card_old_cost font_size_0_8">
                        {{item?.DonGia * item?.SoLuong | currency:'VND':'symbol'}}</span>
                    <span class="card_label_km btn btn-sm btn-danger p-0 font_size_0_8">
                        -{{ (item?.chietKhau) | number:'1.0-1' }}%
                    </span>                            
                </div>
                <span class="text-danger font-weight-bold">{{item.thanhTien | currency:'VND':'symbol'}} </span>
            </td>
        </ng-container>
        <ng-container matColumnDef="idHDX">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>HDX</th>
            <td mat-cell *matCellDef="let item" class="px-2">
                <span>{{item.idHDX}} </span>
        </ng-container>
        <ng-container matColumnDef="Hinh">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Hình </th>
            <td mat-cell *matCellDef="let item" class="px-2">
                <span class="p-2 d-block">
                    <img style="height: 50px;width: 50px" src="{{api_url}}/upload/sanpham/{{item?.Hinh}}" alt="">
                </span>
            </td>
        </ng-container>
        <ng-container matColumnDef="idSanPham">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Sản phẩm </th>
            <td mat-cell *matCellDef="let item" class="px-2">
                <span>{{item?.TenSanPham}} </span>
            </td>
        </ng-container>
        <ng-container matColumnDef="created_at">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Created_at </th>
            <td mat-cell *matCellDef="let item"> {{item.created_at}} </td>
        </ng-container>
        <ng-container matColumnDef="updated_at">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated_at </th>
            <td mat-cell *matCellDef="let item"> {{item.updated_at}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
    </table>
</div>
